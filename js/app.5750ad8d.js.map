{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?d367","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/App.vue","webpack:///./node_modules/eslint-loader/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_hoisted_1","id","_defineComponent","setup","__props","app","PIXI","width","height","backgroundColor","el","ref","onMounted","appendChild","view","fullscreen","innerHeight","screen","toggleFullscreen","document","documentElement","requestFullscreen","exitFullscreen","start","sameConnectedNumber","score","buildingDestroyScore","comboEliminationScore","regions","districts","order","steps","earthSurface","earthCenter","regionRotation","Math","PI","regionBuildingOffset","bestStepRotation","randomGrowTime","randomGrowProbability","earth","from","anchor","set","position","scale","stage","addChild","regionItems","map","region","regionImages","indices","v","sort","a","b","index","images","path","item","regionMaxHp","regionHp","regionSteps","updateEarth","k","visible","forEach","image","rotateEarthDelta","delta","rotation","earthRotation","growTime","ticker","add","dt","random","distances","regionDirection","distance","min","minIndex","district","floor","updateDevelopmentHealth","earthDrag","interactionManager","renderer","on","event","newX","global","x","newY","y","centerX","centerY","oldX","oldY","deltaAngle","atan2","placeAllDroppedItem","godReady","godThrow","god","godTriggered","watchEffect","resources","type","resourceCtor","candidateSlots","candidates","Array","nextItem","candidateBackground","updateCandidates","candidate","isSpecial","kind","itemTree","kdTree","sqrt","pow","itemInitPos","itemMoveSpeed","itemRotateSpeed","itemRadius","tickItem","special","rotateDirection","tick","targetX","targetY","deltaX","deltaY","unitX","unitY","newDistance","cosRotation","cos","sinRotation","sin","w2eRotate","word2earth","e2wRotate","earth2word","nearestItem","nearest","nearestCoord","nearestX","nearestY","nearestDistance","abs","maxOverlapOffset","expectOffset","currentOffset","undoOffset","finalX","finalY","remove","dropItem","angle","pushItem","guess","itemInterval","godTriggerDuration","itemAccTime","newItem","pop","explodeArray","keys","String","padStart","minDistanceToGod","maxId","droppedItems","parent","removeChild","theta","radius","node","droppedItem","children","insert","placeDroppedItem","die","detectConnectedItem","posX","posY","traversalDown","results","child","current","component","avgX","reduce","avgY","angleInRegion","isCity","reverse","disconnectItem","indexOf","explode","loop","onComplete","play","updateEnvironmentHealth","values","environmentHealth","beginFill","drawRect","transform","developmentHealth","health","progress","max","scoreText","fontFamily","fontSize","fill","align","text","failure","stop","_ctx","_cache","_component_font_awesome_icon","_resolveComponent","_openBlock","_createElementBlock","_Fragment","_createElementVNode","ref_key","onClick","_createVNode","icon","__exports__","library","faExpand","faCompress","createApp","App","FontAwesomeIcon","mount"],"mappings":"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","file":"js/app.5750ad8d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=2105f6c6&lang=scss\"","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { id: \"controls\" }\n\nimport * as PIXI from \"pixi.js\";\nimport { onMounted, ref, watchEffect } from \"vue\";\nimport { kdTree } from \"kd-tree-javascript\";\n\n// App\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst app = new PIXI.Application({\n  width: 1920,\n  height: 1080,\n  backgroundColor: 0xffbc01,\n});\nconst el = ref<HTMLElement | null>(null);\nonMounted(() => el.value?.appendChild(app.view));\n\n// Fullscreen\nconst fullscreen = ref<boolean>(window.innerHeight == screen.height);\nconst toggleFullscreen = () => {\n  fullscreen.value = !fullscreen.value;\n  if (fullscreen.value) {\n    document.documentElement.requestFullscreen();\n  } else {\n    document.exitFullscreen();\n  }\n};\n\nstart();\n\nfunction start(sameConnectedNumber = 3) {\n  const score = ref<number>(0);\n  const buildingDestroyScore = 100;\n  const comboEliminationScore = 60;\n\n  // Regions\n  const regions = [\n    {\n      name: \"euro\",\n      // left, middle, right\n      districts: [\n        {\n          order: 1,\n          steps: [[], [\"euro-01\"], [\"euro-05\"], [\"euro-08\"]],\n        },\n        {\n          order: 2,\n          steps: [[], [\"euro-03\"], [\"euro-06\"], [\"euro-09\"], [\"euro-10\"]],\n        },\n        {\n          order: 0,\n          steps: [[], [\"euro-02\"], [\"euro-04\"], [\"euro-07\"]],\n        },\n      ],\n    },\n    {\n      name: \"egypt\",\n      districts: [\n        {\n          order: 1,\n          steps: [\n            [\"egypt-03\"],\n            [\"egypt-01\"],\n            [\"egypt-05\"],\n            [\"egypt-06\"],\n            [\"egypt-07\"],\n          ],\n        },\n        {\n          order: 2,\n          steps: [\n            [\"egypt-03\"],\n            [\"egypt-02\"],\n            [\"egypt-11\"],\n            [\"egypt-12\"],\n            [\"egypt-13\"],\n          ],\n        },\n        {\n          order: 0,\n          steps: [\n            [\"egypt-03\"],\n            [\"egypt-04\"],\n            [\"egypt-08\"],\n            [\"egypt-09\"],\n            [\"egypt-10\"],\n          ],\n        },\n      ],\n    },\n    {\n      name: \"china\",\n      districts: [\n        {\n          order: 2,\n          steps: [\n            [\"china-13\"],\n            [\"china-10\", \"china-13\"],\n            [\"china-07\", \"china-13\"],\n            [\"china-04\", \"china-13\"],\n            [\"china-01\", \"china-13\"],\n          ],\n        },\n        {\n          order: 1,\n          steps: [\n            [\"china-13\"],\n            [\"china-11\", \"china-13\"],\n            [\"china-08\", \"china-13\"],\n            [\"china-05\", \"china-13\"],\n            [\"china-02\", \"china-13\"],\n          ],\n        },\n        {\n          order: 0,\n          steps: [\n            [\"china-13\"],\n            [\"china-12\", \"china-13\"],\n            [\"china-09\", \"china-13\"],\n            [\"china-06\", \"china-13\"],\n            [\"china-03\", \"china-13\"],\n          ],\n        },\n      ],\n    },\n  ];\n\n  // Earth\n  const earthSurface = 450;\n  const earthCenter: [number, number] = [1790, 911];\n  const regionRotation = (35 / 90) * (Math.PI / 2);\n  const regionBuildingOffset = Math.PI / 6;\n  const bestStepRotation = Math.PI / 4;\n  const randomGrowTime = 60 * 2;\n  const randomGrowProbability = 0.5;\n  const earth = PIXI.Sprite.from(\"./resources/images/earth.compress.png\");\n  earth.anchor.set(0.367, 0.5);\n  earth.position.set(earthCenter[0], earthCenter[1]);\n  earth.scale.set(0.5 * 2);\n  app.stage.addChild(earth);\n  const regionItems: Array<Array<Array<PIXI.Sprite[]>>> = regions.map(\n    (region) => {\n      const regionImages = region.districts.map(\n        () => [] as Array<PIXI.Sprite[]>\n      );\n      const indices = region.districts.map((v, i) => i);\n      indices.sort(\n        (a, b) => region.districts[b].order - region.districts[a].order\n      );\n      for (const index of indices) {\n        regionImages[index] = region.districts[index].steps.map((images) =>\n          images.map((path) => {\n            const item = PIXI.Sprite.from(\n              `./resources/images/${region.name}/${path}.png.compress.png`\n            );\n            item.anchor.set(0.367, 0.5);\n            item.position.set(earthCenter[0], earthCenter[1]);\n            item.scale.set(0.5 * 2);\n            app.stage.addChild(item);\n            return item;\n          })\n        );\n      }\n      return regionImages;\n    }\n  );\n  const regionMaxHp = 6;\n  let regionHp = regionMaxHp;\n  const regionSteps: Array<number[]> = regions.map((region) =>\n    region.districts.map(() => 1)\n  );\n\n  function updateEarth() {\n    for (let i = 0; i < regions.length; ++i) {\n      const districts = regions[i].districts;\n      for (let j = 0; j < districts.length; ++j) {\n        const steps = districts[j].steps;\n        for (let k = 0; k < steps.length; ++k) {\n          const visible = k == regionSteps[i][j];\n          regionItems[i][j][k].forEach((image) => {\n            image.visible = visible;\n          });\n        }\n      }\n    }\n  }\n\n  function rotateEarthDelta(delta: number) {\n    for (let i = 0; i < regions.length; ++i) {\n      const districts = regions[i].districts;\n      for (let j = 0; j < districts.length; ++j) {\n        const steps = districts[j].steps;\n        for (let k = 0; k < steps.length; ++k) {\n          regionItems[i][j][k].forEach((item) => {\n            item.rotation += delta;\n          });\n        }\n      }\n    }\n    earth.rotation += delta;\n  }\n\n  function earthRotation(): number {\n    return regionItems[0][0][1][0].rotation;\n  }\n\n  updateEarth();\n  let growTime = 0;\n  app.ticker.add((dt) => {\n    growTime += dt;\n    if (growTime >= randomGrowTime) {\n      growTime -= randomGrowTime;\n      if (Math.random() < randomGrowProbability) {\n        // Now grow a building\n        const distances = regions.map((v, i) => {\n          const regionDirection =\n            regionRotation -\n            regionBuildingOffset +\n            earthRotation() -\n            i * ((2 * Math.PI) / regions.length);\n          let distance = (regionDirection - bestStepRotation) % (2 * Math.PI);\n          if (distance < 0) {\n            distance += 2 * Math.PI;\n          }\n          return Math.min(distance, 2 * Math.PI - distance);\n        });\n        let minIndex = 0;\n        for (let i = 1; i < distances.length; ++i) {\n          if (distances[minIndex] > distances[i]) {\n            minIndex = i;\n          }\n        }\n        const district = Math.floor(\n          Math.random() * regionSteps[minIndex].length\n        );\n        if (\n          regionSteps[minIndex][district] + 1 <\n          regions[minIndex].districts[district].steps.length\n        ) {\n          regionSteps[minIndex][district] += 1;\n          updateEarth();\n          updateDevelopmentHealth();\n        }\n      }\n    }\n  });\n\n  // Earth rotate\n  const earthDrag = ref<[number, number] | null>(null);\n  const interactionManager = new PIXI.InteractionManager(app.renderer);\n  interactionManager.on(\"pointerdown\", (event) => {\n    const newX = event.data.global.x;\n    const newY = event.data.global.y;\n    const centerX = earthCenter[0];\n    const centerY = earthCenter[1];\n    if (newX == centerX && newY == centerY) {\n      return;\n    }\n    earthDrag.value = [newX, newY];\n  });\n  interactionManager.on(\"pointerup\", () => {\n    earthDrag.value = null;\n  });\n  interactionManager.on(\"pointerupoutside\", () => {\n    earthDrag.value = null;\n  });\n  interactionManager.on(\"pointermove\", (event) => {\n    if (earthDrag.value !== null) {\n      const newX = event.data.global.x;\n      const newY = event.data.global.y;\n      const centerX = earthCenter[0];\n      const centerY = earthCenter[1];\n      if (newX == centerX && newY == centerY) {\n        return;\n      }\n      const [oldX, oldY] = earthDrag.value;\n      earthDrag.value = [newX, newY];\n      const deltaAngle =\n        Math.atan2(newY - centerY, newX - centerX) -\n        Math.atan2(oldY - centerY, oldX - centerX);\n      rotateEarthDelta(deltaAngle);\n      placeAllDroppedItem();\n    }\n  });\n\n  // God\n  const godReady = PIXI.Sprite.from(\"./resources/images/god-01.png\");\n  const godThrow = PIXI.Sprite.from(\"./resources/images/god-02.png\");\n  [godReady, godThrow].forEach((god) => {\n    god.anchor.set(0);\n    god.position.set(0, 0);\n    god.scale.set(0.6);\n    app.stage.addChild(god);\n  });\n  const godTriggered = ref<boolean>(false);\n  watchEffect(() => {\n    if (godTriggered.value) {\n      godReady.visible = false;\n      godThrow.visible = true;\n    } else {\n      godReady.visible = true;\n      godThrow.visible = false;\n    }\n  });\n\n  const resources: Array<{\n    type: ItemType;\n    path: string;\n  }> = [\n    {\n      type: \"fire\",\n      path: \"./resources/images/res-fire.png\",\n    },\n    {\n      type: \"chemistry\",\n      path: \"./resources/images/res-chemistry.png\",\n    },\n    {\n      type: \"radiation\",\n      path: \"./resources/images/res-radiation.png\",\n    },\n    {\n      type: \"biology\",\n      path: \"./resources/images/res-biology.png\",\n    },\n    {\n      type: \"battery\",\n      path: \"./resources/images/res-battery.png\",\n    },\n  ];\n  const resourceCtor = (x: number) => {\n    const item = PIXI.Sprite.from(resources[x].path);\n    item.anchor.set(0.5);\n    item.scale.set(0.5);\n    return item;\n  };\n  // const specials: Array<{\n  //   type: ItemType;\n  //   path: string;\n  // }> = [\n  //   {\n  //     type: \"monster\",\n  //     path: \"./resources/images/special-monster.png\",\n  //   },\n  //   {\n  //     type: \"storm\",\n  //     path: \"./resources/images/special-storm.png\",\n  //   },\n  //   {\n  //     type: \"wave\",\n  //     path: \"./resources/images/special-wave.png\",\n  //   },\n  // ];\n  // const specialCtor = (x: number) => {\n  //   const item = PIXI.Sprite.from(specials[x].path);\n  //   item.anchor.set(0.5);\n  //   item.scale.set(0.5);\n  //   return item;\n  // };\n\n  // Candidates\n  const candidateSlots = [\n    {\n      x: 1869,\n      y: 623,\n      scale: 0.3,\n    },\n    {\n      x: 1789,\n      y: 632,\n      scale: 0.3,\n    },\n    {\n      x: 1716,\n      y: 657,\n      scale: 0.3,\n    },\n    {\n      x: 1651,\n      y: 692,\n      scale: 0.3,\n    },\n    {\n      x: 1588,\n      y: 754,\n      scale: 0.3,\n    },\n    {\n      x: 1790,\n      y: 911,\n      scale: 1.2,\n    },\n  ];\n  const candidates: Array<[ItemType, PIXI.Sprite]> = Array.apply(\n    null,\n    Array(candidateSlots.length)\n  ).map(() => nextItem());\n  const candidateBackground = PIXI.Sprite.from(\n    \"./resources/images/candidates.png\"\n  );\n  candidateBackground.scale.set(0.4);\n  candidateBackground.anchor.set(1.0);\n  candidateBackground.position.set(1920, 1080);\n  app.stage.addChild(candidateBackground);\n\n  function updateCandidates() {\n    for (let i = 0; i < candidateSlots.length; ++i) {\n      const candidate = candidates[i][1];\n      candidate.position.set(candidateSlots[i].x, candidateSlots[i].y);\n      candidate.scale.set(candidateSlots[i].scale);\n    }\n  }\n\n  updateCandidates();\n  candidates.forEach((x) => app.stage.addChild(x[1]));\n\n  // Items\n  type ItemType =\n    | \"battery\"\n    | \"biology\"\n    | \"chemistry\"\n    | \"fire\"\n    | \"radiation\"\n    | \"monster\"\n    | \"storm\"\n    | \"wave\";\n\n  function isSpecial(kind: ItemType): boolean {\n    return kind == \"monster\" || kind == \"storm\" || kind == \"wave\";\n  }\n\n  interface ItemTreeNode {\n    x: number;\n    y: number;\n    id: number;\n  }\n\n  const itemTree = new kdTree(\n    [] as Array<ItemTreeNode>,\n    (a, b) => Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2)),\n    [\"x\", \"y\"]\n  );\n  const itemInitPos: [number, number] = [300, 200];\n  const itemMoveSpeed = 32;\n  const itemRotateSpeed = 8;\n  const itemRadius = 45;\n\n  function tickItem(type: ItemType, item: PIXI.Sprite): (dt: number) => void {\n    const special: boolean = isSpecial(type);\n    const rotateDirection = Math.random() < 0.5 ? 1 : -1;\n\n    function tick(dt: number): void {\n      const targetX = earthCenter[0];\n      const targetY = earthCenter[1];\n      const deltaX = targetX - item.position.x;\n      const deltaY = targetY - item.position.y;\n      const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n      const unitX = deltaX / distance;\n      const unitY = deltaY / distance;\n      const newX = item.position.x + itemMoveSpeed * dt * unitX;\n      const newY = item.position.y + itemMoveSpeed * dt * unitY;\n      const newDistance = Math.sqrt(\n        Math.pow(targetX - newX, 2) + Math.pow(targetY - newY, 2)\n      );\n      const cosRotation = Math.cos(earthRotation());\n      const sinRotation = Math.sin(earthRotation());\n      const w2eRotate = [\n        [cosRotation, sinRotation],\n        [-sinRotation, cosRotation],\n      ];\n      const word2earth = (x: number, y: number) => ({\n        x: w2eRotate[0][0] * (x - targetX) + w2eRotate[0][1] * (y - targetY),\n        y: w2eRotate[1][0] * (x - targetX) + w2eRotate[1][1] * (y - targetY),\n      });\n      const e2wRotate = [\n        [cosRotation, -sinRotation],\n        [sinRotation, cosRotation],\n      ];\n      const earth2word = (x: number, y: number) => ({\n        x: e2wRotate[0][0] * x + e2wRotate[0][1] * y + targetX,\n        y: e2wRotate[1][0] * x + e2wRotate[1][1] * y + targetY,\n      });\n      // Detect collision to other items\n      if (!special) {\n        const nearestItem = itemTree.nearest(\n          {\n            id: 0,\n            ...word2earth(newX, newY),\n          },\n          1,\n          1920\n        );\n        if (nearestItem.length && nearestItem[0][1] < 2 * itemRadius) {\n          const nearestCoord = earth2word(\n            nearestItem[0][0].x,\n            nearestItem[0][0].y\n          );\n          const nearestX = nearestCoord.x;\n          const nearestY = nearestCoord.y;\n          const nearestDistance =\n            Math.abs(\n              targetX * (newY - nearestY) +\n                newX * (nearestY - targetY) +\n                nearestX * (targetY - newY)\n            ) /\n            Math.sqrt(\n              Math.pow(targetX - newX, 2) + Math.pow(targetY - newY, 2)\n            );\n          const maxOverlapOffset = Math.sqrt(\n            Math.pow(targetX - nearestX, 2) +\n              Math.pow(targetY - nearestY, 2) -\n              nearestDistance * nearestDistance\n          );\n          const expectOffset = Math.sqrt(\n            4 * itemRadius * itemRadius - nearestDistance * nearestDistance\n          );\n          const currentOffset = Math.sqrt(\n            Math.pow(nearestX - newX, 2) +\n              Math.pow(nearestY - newY, 2) -\n              nearestDistance * nearestDistance\n          );\n          const undoOffset =\n            maxOverlapOffset <= newDistance\n              ? expectOffset - currentOffset\n              : expectOffset + currentOffset;\n          const finalX = newX - undoOffset * unitX;\n          const finalY = newY - undoOffset * unitY;\n          app.ticker.remove(tick);\n          item.position.set(finalX, finalY);\n          dropItem(\n            type,\n            item,\n            nearestItem[0][0].id,\n            word2earth(finalX, finalY)\n          );\n          return;\n        }\n      }\n      // Detect collision to earth\n      if (newDistance < earthSurface) {\n        const finalX = newX - (earthSurface - newDistance) * unitX;\n        const finalY = newY - (earthSurface - newDistance) * unitY;\n        app.ticker.remove(tick);\n        item.position.set(finalX, finalY);\n        dropItem(type, item, null, word2earth(finalX, finalY));\n        return;\n      }\n      item.position.set(newX, newY);\n      item.angle += rotateDirection * itemRotateSpeed * dt;\n    }\n\n    return tick;\n  }\n\n  function pushItem(type: ItemType, item: PIXI.Sprite) {\n    item.position.set(...itemInitPos);\n    item.scale.set(0.5);\n    item.rotation = Math.random() * (2 * Math.PI);\n    app.stage.addChild(item);\n    app.ticker.add(tickItem(type, item));\n  }\n\n  function nextItem(): [ItemType, PIXI.Sprite] {\n    // const isSpecial = Math.random() >= 0.9;\n    // if (!isSpecial) {\n    //   const guess = Math.floor(Math.random() * resources.length);\n    //   return [resources[guess].type, resourceCtor(guess)];\n    // } else {\n    //   const guess = Math.floor(Math.random() * specials.length);\n    //   return [specials[guess].type, specialCtor(guess)];\n    // }\n    const guess = Math.floor(Math.random() * resources.length);\n    return [resources[guess].type, resourceCtor(guess)];\n  }\n\n  const itemInterval = 120;\n  const godTriggerDuration = 6;\n  let itemAccTime = 0;\n  app.ticker.add((dt) => {\n    itemAccTime += dt;\n    if (itemAccTime > godTriggerDuration && godTriggered.value) {\n      godTriggered.value = false;\n    }\n    if (itemAccTime > itemInterval) {\n      itemAccTime -= itemInterval;\n      godTriggered.value = true;\n      const newItem = nextItem();\n      candidates.splice(0, 0, newItem);\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      pushItem(...candidates.pop()!);\n      updateCandidates();\n      app.stage.addChild(newItem[1]);\n    }\n  });\n\n  // Explode\n  const explodeArray: PIXI.Texture[] = [...Array(15).keys()].map((n) =>\n    PIXI.Texture.from(\n      `./resources/images/explode/explode-${String(n).padStart(2, \"0\")}.png`\n    )\n  );\n\n  // Dropped items\n  const minDistanceToGod = 300;\n\n  interface DroppedItem {\n    theta: number;\n    radius: number;\n    type: ItemType;\n    item: PIXI.Sprite;\n    node: ItemTreeNode;\n    parent: number | null;\n    children: number[];\n  }\n\n  let maxId = 0;\n  const droppedItems: Record<number, DroppedItem> = {};\n\n  function dropItem(\n    type: ItemType,\n    item: PIXI.Sprite,\n    parent: number | null,\n    position: { x: number; y: number }\n  ): void {\n    if (isSpecial(type)) {\n      // TODO: effect\n      app.stage.removeChild(item);\n      return;\n    }\n    const centerX = earthCenter[0];\n    const centerY = earthCenter[1];\n    let theta =\n      Math.atan2(item.position.y - centerY, item.position.x - centerX) -\n      earthRotation();\n    let radius = Math.sqrt(\n      Math.pow(item.position.x - centerX, 2) +\n        Math.pow(item.position.y - centerY, 2)\n    );\n    theta = theta % (2 * Math.PI);\n    if (theta < 0) {\n      theta = (theta % (2 * Math.PI)) + 2 * Math.PI;\n    }\n    const id = maxId++;\n    const node = {\n      id,\n      ...position,\n    };\n    const droppedItem = {\n      theta,\n      radius,\n      type,\n      item,\n      node,\n      parent,\n      children: [],\n    };\n    droppedItems[id] = droppedItem;\n    if (parent != null) {\n      droppedItems[parent].children.push(id);\n    }\n    itemTree.insert(node);\n    placeDroppedItem(droppedItem);\n    if (\n      Math.sqrt(\n        Math.pow(item.position.x - itemInitPos[0], 2) +\n          Math.pow(item.position.y - itemInitPos[1], 2)\n      ) <= minDistanceToGod\n    ) {\n      die();\n    }\n    detectConnectedItem(id);\n  }\n\n  function placeDroppedItem(item: DroppedItem) {\n    const posX =\n      item.radius * Math.cos(earthRotation() + item.theta) + earthCenter[0];\n    const posY =\n      item.radius * Math.sin(earthRotation() + item.theta) + earthCenter[1];\n    item.item.position.set(posX, posY);\n  }\n\n  function traversalDown(id: number): number[] {\n    const item = droppedItems[id];\n    const type = item.type;\n    const results = [];\n    for (const child of item.children) {\n      if (droppedItems[child].type === type) {\n        results.push(...traversalDown(child));\n      }\n    }\n    results.push(id);\n    return results;\n  }\n\n  function detectConnectedItem(id: number) {\n    const type = droppedItems[id].type;\n    let current = id;\n    for (;;) {\n      const parent = droppedItems[current].parent;\n      if (parent === null || droppedItems[parent].type !== type) {\n        break;\n      }\n      current = parent;\n    }\n    const component = traversalDown(current);\n    score.value += comboEliminationScore * component.length;\n    // Compute angle\n    const avgX =\n      component\n        .map((id) => droppedItems[id].item.position.x)\n        .reduce((a, b) => a + b, 0) / component.length;\n    const avgY =\n      component\n        .map((id) => droppedItems[id].item.position.y)\n        .reduce((a, b) => a + b, 0) / component.length;\n    let angle =\n      -(\n        Math.atan2(avgY - earthCenter[1], avgX - earthCenter[0]) -\n        earthRotation() -\n        regionRotation\n      ) %\n      (2 * Math.PI);\n    if (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    angle /= 2 * Math.PI;\n    const region = Math.floor(angle * regions.length);\n    const angleInRegion = angle * regions.length - region;\n    const isCity = angleInRegion <= 0.5;\n    if (isCity && component.length < sameConnectedNumber) {\n      return;\n    }\n    // Remove node\n    for (const id of component) {\n      const item = droppedItems[id];\n      const children = item.children.slice();\n      children.reverse();\n      for (const child of children) {\n        disconnectItem(child);\n      }\n      if (item.parent !== null) {\n        const index = droppedItems[item.parent].children.indexOf(id);\n        droppedItems[item.parent].children.splice(index, 1);\n      }\n      delete droppedItems[id];\n      itemTree.remove(item.node);\n      app.stage.removeChild(item.item);\n      // Create explode\n      const explode = new PIXI.AnimatedSprite(explodeArray);\n      explode.anchor.set(0.5);\n      explode.position.set(item.item.position.x, item.item.position.y);\n      explode.loop = false;\n      explode.onComplete = () => {\n        app.stage.removeChild(explode);\n      };\n      app.stage.addChild(explode);\n      explode.play();\n    }\n    // Decrease level\n    if (isCity) {\n      const district = Math.floor(\n        (1 - angleInRegion * 2) * regions[region].districts.length\n      );\n      if (regionSteps[region][district] > 0) {\n        regionSteps[region][district] -= 1;\n        score.value += buildingDestroyScore;\n        updateEarth();\n        updateDevelopmentHealth();\n      }\n    } else {\n      regionHp -= 1;\n      updateEnvironmentHealth();\n      if (regionHp === 0) {\n        die();\n      }\n    }\n  }\n\n  function disconnectItem(id: number) {\n    const item = droppedItems[id];\n    const children = item.children.slice();\n    children.reverse();\n    for (const child of children) {\n      disconnectItem(child);\n    }\n    app.ticker.add(tickItem(item.type, item.item));\n    if (item.parent !== null) {\n      const index = droppedItems[item.parent].children.indexOf(id);\n      droppedItems[item.parent].children.splice(index, 1);\n    }\n    delete droppedItems[id];\n    itemTree.remove(item.node);\n  }\n\n  function placeAllDroppedItem() {\n    Object.values(droppedItems).forEach(placeDroppedItem);\n  }\n\n  // Health\n  const environmentHealth = new PIXI.Graphics();\n  environmentHealth.beginFill(0x80d935);\n  environmentHealth.drawRect(0, -19, 200, 38);\n  environmentHealth.position.set(144, 924);\n  app.stage.addChild(environmentHealth);\n  environmentHealth.transform.scale.set(1.0, 1.0);\n\n  const developmentHealth = new PIXI.Graphics();\n  developmentHealth.beginFill(0x87c2f5);\n  developmentHealth.drawRect(0, -19, 200, 38);\n  developmentHealth.position.set(144, 1020);\n  app.stage.addChild(developmentHealth);\n  developmentHealth.transform.scale.set(1.0, 1.0);\n\n  const health = PIXI.Sprite.from(\"./resources/images/health.png\");\n  health.anchor.set(0, 1);\n  health.position.set(0, 1080);\n  health.scale.set(1.5);\n  app.stage.addChild(health);\n\n  function updateEnvironmentHealth() {\n    const progress = regionHp / regionMaxHp;\n    environmentHealth.transform.scale.set(progress, 1.0);\n  }\n\n  function updateDevelopmentHealth() {\n    const progress = Math.max(\n      ...regionSteps.map(\n        (v, i) =>\n          v.reduce((a, b) => a + b, 0) /\n          regions[i].districts\n            .map((district) => district.steps.length - 1)\n            .reduce((a, b) => a + b, 0)\n      )\n    );\n    developmentHealth.transform.scale.set(1.0 - progress, 1.0);\n  }\n\n  updateDevelopmentHealth();\n\n  // Score\n  const scoreText = new PIXI.Text(\"0\", {\n    fontFamily: \"ArtHistoryBook\",\n    fontSize: 120,\n    fill: 0,\n    align: \"right\",\n  });\n  scoreText.anchor.set(1, 0);\n  scoreText.position.set(1920 - 50, 50);\n  app.stage.addChild(scoreText);\n\n  watchEffect(() => {\n    scoreText.text = `${score.value}`;\n  });\n\n  // Die\n  const failure = PIXI.Sprite.from(\"./resources/images/failure.compress.png\");\n  failure.anchor.set(0.5);\n  failure.position.set(960, 540);\n  failure.scale.set(0.4 * 2);\n\n  function die() {\n    app.stage.addChild(failure);\n    app.ticker.stop();\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      ref_key: \"el\",\n      ref: el,\n      id: \"game\"\n    }, null, 512),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"button\", { onClick: toggleFullscreen }, [\n          _createVNode(_component_font_awesome_icon, {\n            icon: fullscreen.value ? 'compress' : 'expand'\n          }, null, 8, [\"icon\"])\n        ])\n      ])\n    ])\n  ], 64))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./App.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2105f6c6&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faExpand, faCompress } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nlibrary.add(faExpand, faCompress);\n\ncreateApp(App).component(\"font-awesome-icon\", FontAwesomeIcon).mount(\"#app\");\n"],"sourceRoot":""}